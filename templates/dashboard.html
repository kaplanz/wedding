{% extends "index.html" %}

{%- block title -%}
  Dashboard | Hannah & Zakhary's Wedding
{%- endblock -%}

{%- block content -%}
      <div class="dashboard">
        <h3>Welcome, {{ user.first() }}!</h3>
        <ul class="guests">
          {% for guest in guests %}
            <li class="guest">
              <a class="name" href="/rsvp/{{ guest.user().ident }}">
                <div>{{ guest.user() }}</div>
                {% if let Some(reply) = guest.reply() -%}
                  <div>
                    <hr>
                    <div>
                      <i class="fa-solid fa-envelope-open-text">:</i>
                      <span>{{ reply.attend }}</span>
                    </div>
                    {%- if let Some(meal) = reply.meal -%}
                      <div>
                        <i class="fa-solid fa-utensils">:</i>
                        <span>{{ meal }}</span>
                      </div>
                    {% endif %}
                    {%- if let Some(msg) = reply.msg -%}
                      {%- if !msg.is_empty() -%}
                        <div>
                          <i class="fa-solid fa-message">:</i>
                          <span>{{ msg }}</span>
                        </div>
                      {% endif %}
                    {% endif %}
                  </div>
                {% endif -%}
              </a>
            </li>
          {% endfor %}
        </ul>
      </div>
{%- endblock -%}
